[buildout]
versions = versions
extensions = mr.developer
auto-checkout = rabbitmq_auth_backend_max

extends = base.cfg
          customizeme.cfg

parts = rabbitmq
        rabbit-server-ini
        rabbit-build-max-auth
        rabbit-config-ini

        common-ini
        maxbunny-ini
        maxtweety-ini

        circus
        circus-ini

        utalk
        maxbunny

[sources]
maxclient = git git@github.com:UPCnet/maxclient.git branch=develop
maxbunny = git git@github.com:UPCnet/maxbunny.git branch=develop
maxtweety = git git@github.com:UPCnet/maxtweety.git branch=develop

[maxbunny]
recipe = zc.recipe.egg
dependent-scripts = true
eggs =
    maxbunny

interpreter = python-maxbunny

[utalk]
recipe = zc.recipe.egg
dependent-scripts = true
eggs =
    maxtweety
    maxscripts

interpreter = python

[sources]
rabbitmq_auth_backend_max = git git@github.com:UPCnet/rabbitmq-auth-backend-max egg=false

[circus]
recipe = zc.recipe.egg:scripts
eggs = circus
       circus-web
       gevent-socketio
       chaussette

[circus-ini]
recipe = collective.recipe.template
input = ${buildout:directory}/config/templates/circus_talk_only.ini.template
output = ${buildout:directory}/config/circus.ini
